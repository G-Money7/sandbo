{"version":3,"names":["useEffect","useDispatch","useSelect","Modal","Button","__experimentalHStack","HStack","__","_n","store","blockEditorStore","unlock","BlockRemovalWarningModal","rules","clientIds","selectPrevious","blockNamesForPrompt","messageType","select","getRemovalPromptData","clearBlockRemovalPrompt","setBlockRemovalRules","privateRemoveBlocks","message","length","onConfirmRemoval","createElement","title","onRequestClose","size","justify","variant","onClick"],"sources":["@wordpress/block-editor/src/components/block-removal-warning-modal/index.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { useEffect } from '@wordpress/element';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport {\n\tModal,\n\tButton,\n\t__experimentalHStack as HStack,\n} from '@wordpress/components';\nimport { __, _n } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { store as blockEditorStore } from '../../store';\nimport { unlock } from '../../lock-unlock';\n\nexport function BlockRemovalWarningModal( { rules } ) {\n\tconst { clientIds, selectPrevious, blockNamesForPrompt, messageType } =\n\t\tuseSelect( ( select ) =>\n\t\t\tunlock( select( blockEditorStore ) ).getRemovalPromptData()\n\t\t);\n\n\tconst {\n\t\tclearBlockRemovalPrompt,\n\t\tsetBlockRemovalRules,\n\t\tprivateRemoveBlocks,\n\t} = unlock( useDispatch( blockEditorStore ) );\n\n\t// Load block removal rules, simultaneously signalling that the block\n\t// removal prompt is in place.\n\tuseEffect( () => {\n\t\tsetBlockRemovalRules( rules );\n\t\treturn () => {\n\t\t\tsetBlockRemovalRules();\n\t\t};\n\t}, [ rules, setBlockRemovalRules ] );\n\n\tif ( ! blockNamesForPrompt ) {\n\t\treturn;\n\t}\n\n\tconst message =\n\t\tmessageType === 'templates'\n\t\t\t? _n(\n\t\t\t\t\t'Deleting this block will stop your post or page content from displaying on this template. It is not recommended.',\n\t\t\t\t\t'Deleting these blocks will stop your post or page content from displaying on this template. It is not recommended.',\n\t\t\t\t\tblockNamesForPrompt.length\n\t\t\t  )\n\t\t\t: _n(\n\t\t\t\t\t'Deleting this block could break patterns on your site that have content linked to it. Are you sure you want to delete it?',\n\t\t\t\t\t'Deleting these blocks could break patterns on your site that have content linked to them. Are you sure you want to delete them?',\n\t\t\t\t\tblockNamesForPrompt.length\n\t\t\t  );\n\n\tconst onConfirmRemoval = () => {\n\t\tprivateRemoveBlocks( clientIds, selectPrevious, /* force */ true );\n\t\tclearBlockRemovalPrompt();\n\t};\n\n\treturn (\n\t\t<Modal\n\t\t\ttitle={ __( 'Be careful!' ) }\n\t\t\tonRequestClose={ clearBlockRemovalPrompt }\n\t\t\tsize=\"medium\"\n\t\t>\n\t\t\t<p>{ message }</p>\n\t\t\t<HStack justify=\"right\">\n\t\t\t\t<Button variant=\"tertiary\" onClick={ clearBlockRemovalPrompt }>\n\t\t\t\t\t{ __( 'Cancel' ) }\n\t\t\t\t</Button>\n\t\t\t\t<Button variant=\"primary\" onClick={ onConfirmRemoval }>\n\t\t\t\t\t{ __( 'Delete' ) }\n\t\t\t\t</Button>\n\t\t\t</HStack>\n\t\t</Modal>\n\t);\n}\n"],"mappings":";AAAA;AACA;AACA;AACA,SAASA,SAAS,QAAQ,oBAAoB;AAC9C,SAASC,WAAW,EAAEC,SAAS,QAAQ,iBAAiB;AACxD,SACCC,KAAK,EACLC,MAAM,EACNC,oBAAoB,IAAIC,MAAM,QACxB,uBAAuB;AAC9B,SAASC,EAAE,EAAEC,EAAE,QAAQ,iBAAiB;;AAExC;AACA;AACA;AACA,SAASC,KAAK,IAAIC,gBAAgB,QAAQ,aAAa;AACvD,SAASC,MAAM,QAAQ,mBAAmB;AAE1C,OAAO,SAASC,wBAAwBA,CAAE;EAAEC;AAAM,CAAC,EAAG;EACrD,MAAM;IAAEC,SAAS;IAAEC,cAAc;IAAEC,mBAAmB;IAAEC;EAAY,CAAC,GACpEf,SAAS,CAAIgB,MAAM,IAClBP,MAAM,CAAEO,MAAM,CAAER,gBAAiB,CAAE,CAAC,CAACS,oBAAoB,CAAC,CAC3D,CAAC;EAEF,MAAM;IACLC,uBAAuB;IACvBC,oBAAoB;IACpBC;EACD,CAAC,GAAGX,MAAM,CAAEV,WAAW,CAAES,gBAAiB,CAAE,CAAC;;EAE7C;EACA;EACAV,SAAS,CAAE,MAAM;IAChBqB,oBAAoB,CAAER,KAAM,CAAC;IAC7B,OAAO,MAAM;MACZQ,oBAAoB,CAAC,CAAC;IACvB,CAAC;EACF,CAAC,EAAE,CAAER,KAAK,EAAEQ,oBAAoB,CAAG,CAAC;EAEpC,IAAK,CAAEL,mBAAmB,EAAG;IAC5B;EACD;EAEA,MAAMO,OAAO,GACZN,WAAW,KAAK,WAAW,GACxBT,EAAE,CACF,kHAAkH,EAClH,oHAAoH,EACpHQ,mBAAmB,CAACQ,MACpB,CAAC,GACDhB,EAAE,CACF,2HAA2H,EAC3H,iIAAiI,EACjIQ,mBAAmB,CAACQ,MACpB,CAAC;EAEL,MAAMC,gBAAgB,GAAGA,CAAA,KAAM;IAC9BH,mBAAmB,CAAER,SAAS,EAAEC,cAAc,EAAE,WAAY,IAAK,CAAC;IAClEK,uBAAuB,CAAC,CAAC;EAC1B,CAAC;EAED,OACCM,aAAA,CAACvB,KAAK;IACLwB,KAAK,EAAGpB,EAAE,CAAE,aAAc,CAAG;IAC7BqB,cAAc,EAAGR,uBAAyB;IAC1CS,IAAI,EAAC;EAAQ,GAEbH,aAAA,YAAKH,OAAY,CAAC,EAClBG,aAAA,CAACpB,MAAM;IAACwB,OAAO,EAAC;EAAO,GACtBJ,aAAA,CAACtB,MAAM;IAAC2B,OAAO,EAAC,UAAU;IAACC,OAAO,EAAGZ;EAAyB,GAC3Db,EAAE,CAAE,QAAS,CACR,CAAC,EACTmB,aAAA,CAACtB,MAAM;IAAC2B,OAAO,EAAC,SAAS;IAACC,OAAO,EAAGP;EAAkB,GACnDlB,EAAE,CAAE,QAAS,CACR,CACD,CACF,CAAC;AAEV"}