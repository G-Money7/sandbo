{"version":3,"names":["_rememo","_interopRequireDefault","require","_removeAccents","_compose","_utils","getNormalizedBlockType","state","nameOrType","getBlockType","getBlockTypes","exports","createSelector","Object","values","blockTypes","name","getHookedBlocks","blockName","hookedBlockTypes","filter","blockHooks","hookedBlocks","blockType","_hookedBlocks$relativ","relativePosition","getBlockStyles","blockStyles","getBlockVariations","scope","variations","blockVariations","variation","includes","getActiveBlockVariation","attributes","match","find","Array","isArray","isActive","attributeKeys","keys","definedAttributes","attribute","length","every","getDefaultBlockVariation","defaultVariation","reverse","isDefault","getCategories","categories","getCollections","collections","getDefaultBlockName","defaultBlockName","getFreeformFallbackBlockName","freeformFallbackBlockName","getUnregisteredFallbackBlockName","unregisteredFallbackBlockName","getGroupingBlockName","groupingBlockName","getChildBlockNames","parent","map","getBlockSupport","feature","defaultSupports","supports","getValueFromObjectPath","hasBlockSupport","isMatchingSearchTerm","searchTerm","getNormalizedSearchTerm","pipe","term","removeAccents","toLowerCase","trim","normalizedSearchTerm","isSearchMatch","normalizedCandidate","title","keywords","some","category","description","hasChildBlocks","hasChildBlocksWithInserterSupport","childBlockName","__experimentalHasContentRoleAttribute","blockTypeName","entries","__experimentalRole"],"sources":["@wordpress/blocks/src/store/selectors.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport createSelector from 'rememo';\nimport removeAccents from 'remove-accents';\n\n/**\n * WordPress dependencies\n */\nimport { pipe } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport { getValueFromObjectPath } from './utils';\n\n/** @typedef {import('../api/registration').WPBlockVariation} WPBlockVariation */\n/** @typedef {import('../api/registration').WPBlockVariationScope} WPBlockVariationScope */\n/** @typedef {import('./reducer').WPBlockCategory} WPBlockCategory */\n\n/**\n * Given a block name or block type object, returns the corresponding\n * normalized block type object.\n *\n * @param {Object}          state      Blocks state.\n * @param {(string|Object)} nameOrType Block name or type object\n *\n * @return {Object} Block type object.\n */\nconst getNormalizedBlockType = ( state, nameOrType ) =>\n\t'string' === typeof nameOrType\n\t\t? getBlockType( state, nameOrType )\n\t\t: nameOrType;\n\n/**\n * Returns all the available block types.\n *\n * @param {Object} state Data state.\n *\n * @example\n * ```js\n * import { store as blocksStore } from '@wordpress/blocks';\n * import { useSelect } from '@wordpress/data';\n *\n * const ExampleComponent = () => {\n *     const blockTypes = useSelect(\n *         ( select ) => select( blocksStore ).getBlockTypes(),\n *         []\n *     );\n *\n *     return (\n *         <ul>\n *             { blockTypes.map( ( block ) => (\n *                 <li key={ block.name }>{ block.title }</li>\n *             ) ) }\n *         </ul>\n *     );\n * };\n * ```\n *\n * @return {Array} Block Types.\n */\nexport const getBlockTypes = createSelector(\n\t( state ) => Object.values( state.blockTypes ),\n\t( state ) => [ state.blockTypes ]\n);\n\n/**\n * Returns a block type by name.\n *\n * @param {Object} state Data state.\n * @param {string} name  Block type name.\n *\n * @example\n * ```js\n * import { store as blocksStore } from '@wordpress/blocks';\n * import { useSelect } from '@wordpress/data';\n *\n * const ExampleComponent = () => {\n *     const paragraphBlock = useSelect( ( select ) =>\n *         ( select ) => select( blocksStore ).getBlockType( 'core/paragraph' ),\n *         []\n *     );\n *\n *     return (\n *         <ul>\n *             { paragraphBlock &&\n *                 Object.entries( paragraphBlock.supports ).map(\n *                     ( blockSupportsEntry ) => {\n *                         const [ propertyName, value ] = blockSupportsEntry;\n *                         return (\n *                             <li\n *                                 key={ propertyName }\n *                             >{ `${ propertyName } : ${ value }` }</li>\n *                         );\n *                     }\n *                 ) }\n *         </ul>\n *     );\n * };\n * ```\n *\n * @return {Object?} Block Type.\n */\nexport function getBlockType( state, name ) {\n\treturn state.blockTypes[ name ];\n}\n\n/**\n * Returns the hooked blocks for a given anchor block.\n *\n * Given an anchor block name, returns an object whose keys are relative positions,\n * and whose values are arrays of block names that are hooked to the anchor block\n * at that relative position.\n *\n * @param {Object} state     Data state.\n * @param {string} blockName Anchor block type name.\n *\n * @example\n * ```js\n * import { store as blocksStore } from '@wordpress/blocks';\n * import { useSelect } from '@wordpress/data';\n *\n * const ExampleComponent = () => {\n *     const hookedBlockNames = useSelect( ( select ) =>\n *         select( blocksStore ).getHookedBlocks( 'core/navigation' ),\n *         []\n *     );\n *\n *     return (\n *         <ul>\n *             { Object.keys( hookedBlockNames ).length &&\n *                 Object.keys( hookedBlockNames ).map( ( relativePosition ) => (\n *                     <li key={ relativePosition }>{ relativePosition }>\n *                         <ul>\n *                             { hookedBlockNames[ relativePosition ].map( ( hookedBlock ) => (\n *                                 <li key={ hookedBlock }>{ hookedBlock }</li>\n *                             ) ) }\n *                         </ul>\n *                     </li>\n *             ) ) }\n *         </ul>\n *     );\n * };\n * ```\n *\n * @return {Object} Lists of hooked block names for each relative position.\n */\nexport const getHookedBlocks = createSelector(\n\t( state, blockName ) => {\n\t\tconst hookedBlockTypes = getBlockTypes( state ).filter(\n\t\t\t( { blockHooks } ) => blockHooks && blockName in blockHooks\n\t\t);\n\n\t\tlet hookedBlocks = {};\n\t\tfor ( const blockType of hookedBlockTypes ) {\n\t\t\tconst relativePosition = blockType.blockHooks[ blockName ];\n\t\t\thookedBlocks = {\n\t\t\t\t...hookedBlocks,\n\t\t\t\t[ relativePosition ]: [\n\t\t\t\t\t...( hookedBlocks[ relativePosition ] ?? [] ),\n\t\t\t\t\tblockType.name,\n\t\t\t\t],\n\t\t\t};\n\t\t}\n\t\treturn hookedBlocks;\n\t},\n\t( state ) => [ state.blockTypes ]\n);\n\n/**\n * Returns block styles by block name.\n *\n * @param {Object} state Data state.\n * @param {string} name  Block type name.\n *\n * @example\n * ```js\n * import { store as blocksStore } from '@wordpress/blocks';\n * import { useSelect } from '@wordpress/data';\n *\n * const ExampleComponent = () => {\n *     const buttonBlockStyles = useSelect( ( select ) =>\n *         select( blocksStore ).getBlockStyles( 'core/button' ),\n *         []\n *     );\n *\n *     return (\n *         <ul>\n *             { buttonBlockStyles &&\n *                 buttonBlockStyles.map( ( style ) => (\n *                     <li key={ style.name }>{ style.label }</li>\n *                 ) ) }\n *         </ul>\n *     );\n * };\n * ```\n *\n * @return {Array?} Block Styles.\n */\nexport function getBlockStyles( state, name ) {\n\treturn state.blockStyles[ name ];\n}\n\n/**\n * Returns block variations by block name.\n *\n * @param {Object}                state     Data state.\n * @param {string}                blockName Block type name.\n * @param {WPBlockVariationScope} [scope]   Block variation scope name.\n *\n * @example\n * ```js\n * import { store as blocksStore } from '@wordpress/blocks';\n * import { useSelect } from '@wordpress/data';\n *\n * const ExampleComponent = () => {\n *     const socialLinkVariations = useSelect( ( select ) =>\n *         select( blocksStore ).getBlockVariations( 'core/social-link' ),\n *         []\n *     );\n *\n *     return (\n *         <ul>\n *             { socialLinkVariations &&\n *                 socialLinkVariations.map( ( variation ) => (\n *                     <li key={ variation.name }>{ variation.title }</li>\n *             ) ) }\n *     </ul>\n *     );\n * };\n * ```\n *\n * @return {(WPBlockVariation[]|void)} Block variations.\n */\nexport const getBlockVariations = createSelector(\n\t( state, blockName, scope ) => {\n\t\tconst variations = state.blockVariations[ blockName ];\n\t\tif ( ! variations || ! scope ) {\n\t\t\treturn variations;\n\t\t}\n\t\treturn variations.filter( ( variation ) => {\n\t\t\t// For backward compatibility reasons, variation's scope defaults to\n\t\t\t// `block` and `inserter` when not set.\n\t\t\treturn ( variation.scope || [ 'block', 'inserter' ] ).includes(\n\t\t\t\tscope\n\t\t\t);\n\t\t} );\n\t},\n\t( state, blockName ) => [ state.blockVariations[ blockName ] ]\n);\n\n/**\n * Returns the active block variation for a given block based on its attributes.\n * Variations are determined by their `isActive` property.\n * Which is either an array of block attribute keys or a function.\n *\n * In case of an array of block attribute keys, the `attributes` are compared\n * to the variation's attributes using strict equality check.\n *\n * In case of function type, the function should accept a block's attributes\n * and the variation's attributes and determines if a variation is active.\n * A function that accepts a block's attributes and the variation's attributes and determines if a variation is active.\n *\n * @param {Object}                state      Data state.\n * @param {string}                blockName  Name of block (example: “core/columns”).\n * @param {Object}                attributes Block attributes used to determine active variation.\n * @param {WPBlockVariationScope} [scope]    Block variation scope name.\n *\n * @example\n * ```js\n * import { __ } from '@wordpress/i18n';\n * import { store as blocksStore } from '@wordpress/blocks';\n * import { store as blockEditorStore } from '@wordpress/block-editor';\n * import { useSelect } from '@wordpress/data';\n *\n * const ExampleComponent = () => {\n *     // This example assumes that a core/embed block is the first block in the Block Editor.\n *     const activeBlockVariation = useSelect( ( select ) => {\n *         // Retrieve the list of blocks.\n *         const [ firstBlock ] = select( blockEditorStore ).getBlocks()\n *\n *         // Return the active block variation for the first block.\n *         return select( blocksStore ).getActiveBlockVariation(\n *             firstBlock.name,\n *             firstBlock.attributes\n *         );\n *     }, [] );\n *\n *     return activeBlockVariation && activeBlockVariation.name === 'spotify' ? (\n *         <p>{ __( 'Spotify variation' ) }</p>\n *         ) : (\n *         <p>{ __( 'Other variation' ) }</p>\n *     );\n * };\n * ```\n *\n * @return {(WPBlockVariation|undefined)} Active block variation.\n */\nexport function getActiveBlockVariation( state, blockName, attributes, scope ) {\n\tconst variations = getBlockVariations( state, blockName, scope );\n\n\tconst match = variations?.find( ( variation ) => {\n\t\tif ( Array.isArray( variation.isActive ) ) {\n\t\t\tconst blockType = getBlockType( state, blockName );\n\t\t\tconst attributeKeys = Object.keys( blockType?.attributes || {} );\n\t\t\tconst definedAttributes = variation.isActive.filter(\n\t\t\t\t( attribute ) => attributeKeys.includes( attribute )\n\t\t\t);\n\t\t\tif ( definedAttributes.length === 0 ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn definedAttributes.every(\n\t\t\t\t( attribute ) =>\n\t\t\t\t\tattributes[ attribute ] ===\n\t\t\t\t\tvariation.attributes[ attribute ]\n\t\t\t);\n\t\t}\n\n\t\treturn variation.isActive?.( attributes, variation.attributes );\n\t} );\n\n\treturn match;\n}\n\n/**\n * Returns the default block variation for the given block type.\n * When there are multiple variations annotated as the default one,\n * the last added item is picked. This simplifies registering overrides.\n * When there is no default variation set, it returns the first item.\n *\n * @param {Object}                state     Data state.\n * @param {string}                blockName Block type name.\n * @param {WPBlockVariationScope} [scope]   Block variation scope name.\n *\n * @example\n * ```js\n * import { __, sprintf } from '@wordpress/i18n';\n * import { store as blocksStore } from '@wordpress/blocks';\n * import { useSelect } from '@wordpress/data';\n *\n * const ExampleComponent = () => {\n *     const defaultEmbedBlockVariation = useSelect( ( select ) =>\n *         select( blocksStore ).getDefaultBlockVariation( 'core/embed' ),\n *         []\n *     );\n *\n *     return (\n *         defaultEmbedBlockVariation && (\n *             <p>\n *                 { sprintf(\n *                     __( 'core/embed default variation: %s' ),\n *                     defaultEmbedBlockVariation.title\n *                 ) }\n *             </p>\n *         )\n *     );\n * };\n * ```\n *\n * @return {?WPBlockVariation} The default block variation.\n */\nexport function getDefaultBlockVariation( state, blockName, scope ) {\n\tconst variations = getBlockVariations( state, blockName, scope );\n\n\tconst defaultVariation = [ ...variations ]\n\t\t.reverse()\n\t\t.find( ( { isDefault } ) => !! isDefault );\n\n\treturn defaultVariation || variations[ 0 ];\n}\n\n/**\n * Returns all the available block categories.\n *\n * @param {Object} state Data state.\n *\n * @example\n * ```js\n * import { store as blocksStore } from '@wordpress/blocks';\n * import { useSelect, } from '@wordpress/data';\n *\n * const ExampleComponent = () => {\n *     const blockCategories = useSelect( ( select ) =>\n *         select( blocksStore ).getCategories(),\n *         []\n *     );\n *\n *     return (\n *         <ul>\n *             { blockCategories.map( ( category ) => (\n *                 <li key={ category.slug }>{ category.title }</li>\n *             ) ) }\n *         </ul>\n *     );\n * };\n * ```\n *\n * @return {WPBlockCategory[]} Categories list.\n */\nexport function getCategories( state ) {\n\treturn state.categories;\n}\n\n/**\n * Returns all the available collections.\n *\n * @param {Object} state Data state.\n *\n * @example\n * ```js\n * import { store as blocksStore } from '@wordpress/blocks';\n * import { useSelect } from '@wordpress/data';\n *\n * const ExampleComponent = () => {\n *     const blockCollections = useSelect( ( select ) =>\n *         select( blocksStore ).getCollections(),\n *         []\n *     );\n *\n *     return (\n *         <ul>\n *             { Object.values( blockCollections ).length > 0 &&\n *                 Object.values( blockCollections ).map( ( collection ) => (\n *                     <li key={ collection.title }>{ collection.title }</li>\n *             ) ) }\n *         </ul>\n *     );\n * };\n * ```\n *\n * @return {Object} Collections list.\n */\nexport function getCollections( state ) {\n\treturn state.collections;\n}\n\n/**\n * Returns the name of the default block name.\n *\n * @param {Object} state Data state.\n *\n * @example\n * ```js\n * import { __, sprintf } from '@wordpress/i18n';\n * import { store as blocksStore } from '@wordpress/blocks';\n * import { useSelect } from '@wordpress/data';\n *\n * const ExampleComponent = () => {\n *     const defaultBlockName = useSelect( ( select ) =>\n *         select( blocksStore ).getDefaultBlockName(),\n *         []\n *     );\n *\n *     return (\n *         defaultBlockName && (\n *             <p>\n *                 { sprintf( __( 'Default block name: %s' ), defaultBlockName ) }\n *             </p>\n *         )\n *     );\n * };\n * ```\n *\n * @return {string?} Default block name.\n */\nexport function getDefaultBlockName( state ) {\n\treturn state.defaultBlockName;\n}\n\n/**\n * Returns the name of the block for handling non-block content.\n *\n * @param {Object} state Data state.\n *\n * @example\n * ```js\n * import { __, sprintf } from '@wordpress/i18n';\n * import { store as blocksStore } from '@wordpress/blocks';\n * import { useSelect } from '@wordpress/data';\n *\n * const ExampleComponent = () => {\n *     const freeformFallbackBlockName = useSelect( ( select ) =>\n *         select( blocksStore ).getFreeformFallbackBlockName(),\n *         []\n *     );\n *\n *     return (\n *         freeformFallbackBlockName && (\n *             <p>\n *                 { sprintf( __(\n *                     'Freeform fallback block name: %s' ),\n *                     freeformFallbackBlockName\n *                 ) }\n *             </p>\n *         )\n *     );\n * };\n * ```\n *\n * @return {string?} Name of the block for handling non-block content.\n */\nexport function getFreeformFallbackBlockName( state ) {\n\treturn state.freeformFallbackBlockName;\n}\n\n/**\n * Returns the name of the block for handling unregistered blocks.\n *\n * @param {Object} state Data state.\n *\n * @example\n * ```js\n * import { __, sprintf } from '@wordpress/i18n';\n * import { store as blocksStore } from '@wordpress/blocks';\n * import { useSelect } from '@wordpress/data';\n *\n * const ExampleComponent = () => {\n *     const unregisteredFallbackBlockName = useSelect( ( select ) =>\n *         select( blocksStore ).getUnregisteredFallbackBlockName(),\n *         []\n *     );\n *\n *     return (\n *         unregisteredFallbackBlockName && (\n *             <p>\n *                 { sprintf( __(\n *                     'Unregistered fallback block name: %s' ),\n *                     unregisteredFallbackBlockName\n *                 ) }\n *             </p>\n *         )\n *     );\n * };\n * ```\n *\n * @return {string?} Name of the block for handling unregistered blocks.\n */\nexport function getUnregisteredFallbackBlockName( state ) {\n\treturn state.unregisteredFallbackBlockName;\n}\n\n/**\n * Returns the name of the block for handling the grouping of blocks.\n *\n * @param {Object} state Data state.\n *\n * @example\n * ```js\n * import { __, sprintf } from '@wordpress/i18n';\n * import { store as blocksStore } from '@wordpress/blocks';\n * import { useSelect } from '@wordpress/data';\n *\n * const ExampleComponent = () => {\n *     const groupingBlockName = useSelect( ( select ) =>\n *         select( blocksStore ).getGroupingBlockName(),\n *         []\n *     );\n *\n *     return (\n *         groupingBlockName && (\n *             <p>\n *                 { sprintf(\n *                     __( 'Default grouping block name: %s' ),\n *                     groupingBlockName\n *                 ) }\n *             </p>\n *         )\n *     );\n * };\n * ```\n *\n * @return {string?} Name of the block for handling the grouping of blocks.\n */\nexport function getGroupingBlockName( state ) {\n\treturn state.groupingBlockName;\n}\n\n/**\n * Returns an array with the child blocks of a given block.\n *\n * @param {Object} state     Data state.\n * @param {string} blockName Block type name.\n *\n * @example\n * ```js\n * import { store as blocksStore } from '@wordpress/blocks';\n * import { useSelect } from '@wordpress/data';\n *\n * const ExampleComponent = () => {\n *     const childBlockNames = useSelect( ( select ) =>\n *         select( blocksStore ).getChildBlockNames( 'core/navigation' ),\n *         []\n *     );\n *\n *     return (\n *         <ul>\n *             { childBlockNames &&\n *                 childBlockNames.map( ( child ) => (\n *                     <li key={ child }>{ child }</li>\n *             ) ) }\n *         </ul>\n *     );\n * };\n * ```\n *\n * @return {Array} Array of child block names.\n */\nexport const getChildBlockNames = createSelector(\n\t( state, blockName ) => {\n\t\treturn getBlockTypes( state )\n\t\t\t.filter( ( blockType ) => {\n\t\t\t\treturn blockType.parent?.includes( blockName );\n\t\t\t} )\n\t\t\t.map( ( { name } ) => name );\n\t},\n\t( state ) => [ state.blockTypes ]\n);\n\n/**\n * Returns the block support value for a feature, if defined.\n *\n * @param {Object}          state           Data state.\n * @param {(string|Object)} nameOrType      Block name or type object\n * @param {Array|string}    feature         Feature to retrieve\n * @param {*}               defaultSupports Default value to return if not\n *                                          explicitly defined\n *\n * @example\n * ```js\n * import { __, sprintf } from '@wordpress/i18n';\n * import { store as blocksStore } from '@wordpress/blocks';\n * import { useSelect } from '@wordpress/data';\n *\n * const ExampleComponent = () => {\n *     const paragraphBlockSupportValue = useSelect( ( select ) =>\n *         select( blocksStore ).getBlockSupport( 'core/paragraph', 'anchor' ),\n *         []\n *     );\n *\n *     return (\n *         <p>\n *             { sprintf(\n *                 __( 'core/paragraph supports.anchor value: %s' ),\n *                 paragraphBlockSupportValue\n *             ) }\n *         </p>\n *     );\n * };\n * ```\n *\n * @return {?*} Block support value\n */\nexport const getBlockSupport = (\n\tstate,\n\tnameOrType,\n\tfeature,\n\tdefaultSupports\n) => {\n\tconst blockType = getNormalizedBlockType( state, nameOrType );\n\tif ( ! blockType?.supports ) {\n\t\treturn defaultSupports;\n\t}\n\n\treturn getValueFromObjectPath(\n\t\tblockType.supports,\n\t\tfeature,\n\t\tdefaultSupports\n\t);\n};\n\n/**\n * Returns true if the block defines support for a feature, or false otherwise.\n *\n * @param {Object}          state           Data state.\n * @param {(string|Object)} nameOrType      Block name or type object.\n * @param {string}          feature         Feature to test.\n * @param {boolean}         defaultSupports Whether feature is supported by\n *                                          default if not explicitly defined.\n *\n * @example\n * ```js\n * import { __, sprintf } from '@wordpress/i18n';\n * import { store as blocksStore } from '@wordpress/blocks';\n * import { useSelect } from '@wordpress/data';\n *\n * const ExampleComponent = () => {\n *     const paragraphBlockSupportClassName = useSelect( ( select ) =>\n *         select( blocksStore ).hasBlockSupport( 'core/paragraph', 'className' ),\n *         []\n *     );\n *\n *     return (\n *         <p>\n *             { sprintf(\n *                 __( 'core/paragraph supports custom class name?: %s' ),\n *                 paragraphBlockSupportClassName\n *             ) }\n *         /p>\n *     );\n * };\n * ```\n *\n * @return {boolean} Whether block supports feature.\n */\nexport function hasBlockSupport( state, nameOrType, feature, defaultSupports ) {\n\treturn !! getBlockSupport( state, nameOrType, feature, defaultSupports );\n}\n\n/**\n * Returns true if the block type by the given name or object value matches a\n * search term, or false otherwise.\n *\n * @param {Object}          state      Blocks state.\n * @param {(string|Object)} nameOrType Block name or type object.\n * @param {string}          searchTerm Search term by which to filter.\n *\n * @example\n * ```js\n * import { __, sprintf } from '@wordpress/i18n';\n * import { store as blocksStore } from '@wordpress/blocks';\n * import { useSelect } from '@wordpress/data';\n *\n * const ExampleComponent = () => {\n *     const termFound = useSelect(\n *         ( select ) =>\n *             select( blocksStore ).isMatchingSearchTerm(\n *                 'core/navigation',\n *                 'theme'\n *             ),\n *             []\n *         );\n *\n *     return (\n *         <p>\n *             { sprintf(\n *                 __(\n *                     'Search term was found in the title, keywords, category or description in block.json: %s'\n *                 ),\n *                 termFound\n *             ) }\n *         </p>\n *     );\n * };\n * ```\n *\n * @return {Object[]} Whether block type matches search term.\n */\nexport function isMatchingSearchTerm( state, nameOrType, searchTerm ) {\n\tconst blockType = getNormalizedBlockType( state, nameOrType );\n\n\tconst getNormalizedSearchTerm = pipe( [\n\t\t// Disregard diacritics.\n\t\t//  Input: \"média\"\n\t\t( term ) => removeAccents( term ?? '' ),\n\n\t\t// Lowercase.\n\t\t//  Input: \"MEDIA\"\n\t\t( term ) => term.toLowerCase(),\n\n\t\t// Strip leading and trailing whitespace.\n\t\t//  Input: \" media \"\n\t\t( term ) => term.trim(),\n\t] );\n\n\tconst normalizedSearchTerm = getNormalizedSearchTerm( searchTerm );\n\n\tconst isSearchMatch = pipe( [\n\t\tgetNormalizedSearchTerm,\n\t\t( normalizedCandidate ) =>\n\t\t\tnormalizedCandidate.includes( normalizedSearchTerm ),\n\t] );\n\n\treturn (\n\t\tisSearchMatch( blockType.title ) ||\n\t\tblockType.keywords?.some( isSearchMatch ) ||\n\t\tisSearchMatch( blockType.category ) ||\n\t\t( typeof blockType.description === 'string' &&\n\t\t\tisSearchMatch( blockType.description ) )\n\t);\n}\n\n/**\n * Returns a boolean indicating if a block has child blocks or not.\n *\n * @param {Object} state     Data state.\n * @param {string} blockName Block type name.\n *\n * @example\n * ```js\n * import { __, sprintf } from '@wordpress/i18n';\n * import { store as blocksStore } from '@wordpress/blocks';\n * import { useSelect } from '@wordpress/data';\n *\n * const ExampleComponent = () => {\n *     const navigationBlockHasChildBlocks = useSelect( ( select ) =>\n *         select( blocksStore ).hasChildBlocks( 'core/navigation' ),\n *         []\n *     );\n *\n *     return (\n *         <p>\n *             { sprintf(\n *                 __( 'core/navigation has child blocks: %s' ),\n *                 navigationBlockHasChildBlocks\n *             ) }\n *         </p>\n *     );\n * };\n * ```\n *\n * @return {boolean} True if a block contains child blocks and false otherwise.\n */\nexport const hasChildBlocks = ( state, blockName ) => {\n\treturn getChildBlockNames( state, blockName ).length > 0;\n};\n\n/**\n * Returns a boolean indicating if a block has at least one child block with inserter support.\n *\n * @param {Object} state     Data state.\n * @param {string} blockName Block type name.\n *\n * @example\n * ```js\n * import { __, sprintf } from '@wordpress/i18n';\n * import { store as blocksStore } from '@wordpress/blocks';\n * import { useSelect } from '@wordpress/data';\n *\n * const ExampleComponent = () => {\n *     const navigationBlockHasChildBlocksWithInserterSupport = useSelect( ( select ) =>\n *         select( blocksStore ).hasChildBlocksWithInserterSupport(\n *             'core/navigation'\n *         ),\n *         []\n *     );\n *\n *     return (\n *         <p>\n *             { sprintf(\n *                 __( 'core/navigation has child blocks with inserter support: %s' ),\n *                 navigationBlockHasChildBlocksWithInserterSupport\n *             ) }\n *         </p>\n *     );\n * };\n * ```\n *\n * @return {boolean} True if a block contains at least one child blocks with inserter support\n *                   and false otherwise.\n */\nexport const hasChildBlocksWithInserterSupport = ( state, blockName ) => {\n\treturn getChildBlockNames( state, blockName ).some( ( childBlockName ) => {\n\t\treturn hasBlockSupport( state, childBlockName, 'inserter', true );\n\t} );\n};\n\n/**\n * DO-NOT-USE in production.\n * This selector is created for internal/experimental only usage and may be\n * removed anytime without any warning, causing breakage on any plugin or theme invoking it.\n */\nexport const __experimentalHasContentRoleAttribute = createSelector(\n\t( state, blockTypeName ) => {\n\t\tconst blockType = getBlockType( state, blockTypeName );\n\t\tif ( ! blockType ) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn Object.entries( blockType.attributes ).some(\n\t\t\t( [ , { __experimentalRole } ] ) => __experimentalRole === 'content'\n\t\t);\n\t},\n\t( state, blockTypeName ) => [\n\t\tstate.blockTypes[ blockTypeName ]?.attributes,\n\t]\n);\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAGA,IAAAA,OAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,cAAA,GAAAF,sBAAA,CAAAC,OAAA;AAKA,IAAAE,QAAA,GAAAF,OAAA;AAKA,IAAAG,MAAA,GAAAH,OAAA;AAdA;AACA;AACA;;AAIA;AACA;AACA;;AAGA;AACA;AACA;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAMI,sBAAsB,GAAGA,CAAEC,KAAK,EAAEC,UAAU,KACjD,QAAQ,KAAK,OAAOA,UAAU,GAC3BC,YAAY,CAAEF,KAAK,EAAEC,UAAW,CAAC,GACjCA,UAAU;;AAEd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,MAAME,aAAa,GAAAC,OAAA,CAAAD,aAAA,GAAG,IAAAE,eAAc,EACxCL,KAAK,IAAMM,MAAM,CAACC,MAAM,CAAEP,KAAK,CAACQ,UAAW,CAAC,EAC5CR,KAAK,IAAM,CAAEA,KAAK,CAACQ,UAAU,CAChC,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASN,YAAYA,CAAEF,KAAK,EAAES,IAAI,EAAG;EAC3C,OAAOT,KAAK,CAACQ,UAAU,CAAEC,IAAI,CAAE;AAChC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,MAAMC,eAAe,GAAAN,OA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OAAOZ,SAAS,CAACQ,QAAQ,GAAIL,UAAU,EAAEH,SAAS,CAACG,UAAW,CAAC;EAChE,CAAE,CAAC;EAEH,OAAOC,KAAK;AACb;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASW,wBAAwBA,CAAExC,KAAK,EAAEW,SAAS,EAAEW,KAAK,EAAG;EACnE,MAAMC,UAAU,GAAGF,kBAAkB,CAAErB,KAAK,EAAEW,SAAS,EAAEW,KAAM,CAAC;EAEhE,MAAMmB,gBAAgB,GAAG,CAAE,GAAGlB,UAAU,CAAE,CACxCmB,OAAO,CAAC,CAAC,CACTZ,IAAI,CAAE,CAAE;IAAEa;EAAU,CAAC,KAAM,CAAC,CAAEA,SAAU,CAAC;EAE3C,OAAOF,gBAAgB,IAAIlB,UAAU,CAAE,CAAC,CAAE;AAC3C;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASqB,aAAaA,CAAE5C,KAAK,EAAG;EACtC,OAAOA,KAAK,CAAC6C,UAAU;AACxB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASC,cAAcA,CAAE9C,KAAK,EAAG;EACvC,OAAOA,KAAK,CAAC+C,WAAW;AACzB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASC,mBAAmBA,CAAEhD,KAAK,EAAG;EAC5C,OAAOA,KAAK,CAACiD,gBAAgB;AAC9B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASC,4BAA4BA,CAAElD,KAAK,EAAG;EACrD,OAAOA,KAAK,CAACmD,yBAAyB;AACvC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASC,gCAAgCA,CAAEpD,KAAK,EAAG;EACzD,OAAOA,KAAK,CAACqD,6BAA6B;AAC3C;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASC,oBAAoBA,CAAEtD,KAAK,EAAG;EAC7C,OAAOA,KAAK,CAACuD,iBAAiB;AAC/B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,MAAMC,kBAAkB,GAAApD,OAAA,CAAAoD,kBAAA,GAAG,IAAAnD,eAAc,EAC/C,CAAEL,KAAK,EAAEW,SAAS,KAAM;EACvB,OAAOR,aAAa,CAAEH,KAAM,CAAC,CAC3Ba,MAAM,CAAIG,SAAS,IAAM;IACzB,OAAOA,SAAS,CAACyC,MAAM,EAAE/B,QAAQ,CAAEf,SAAU,CAAC;EAC/C,CAAE,CAAC,CACF+C,GAAG,CAAE,CAAE;IAAEjD;EAAK,CAAC,KAAMA,IAAK,CAAC;AAC9B,CAAC,EACCT,KAAK,IAAM,CAAEA,KAAK,CAACQ,UAAU,CAChC,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,MAAMmD,eAAe,GAAGA,CAC9B3D,KAAK,EACLC,UAAU,EACV2D,OAAO,EACPC,eAAe,KACX;EACJ,MAAM7C,SAAS,GAAGjB,sBAAsB,CAAEC,KAAK,EAAEC,UAAW,CAAC;EAC7D,IAAK,CAAEe,SAAS,EAAE8C,QAAQ,EAAG;IAC5B,OAAOD,eAAe;EACvB;EAEA,OAAO,IAAAE,6BAAsB,EAC5B/C,SAAS,CAAC8C,QAAQ,EAClBF,OAAO,EACPC,eACD,CAAC;AACF,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAjCAzD,OAAA,CAAAuD,eAAA,GAAAA,eAAA;AAkCO,SAASK,eAAeA,CAAEhE,KAAK,EAAEC,UAAU,EAAE2D,OAAO,EAAEC,eAAe,EAAG;EAC9E,OAAO,CAAC,CAAEF,eAAe,CAAE3D,KAAK,EAAEC,UAAU,EAAE2D,OAAO,EAAEC,eAAgB,CAAC;AACzE;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASI,oBAAoBA,CAAEjE,KAAK,EAAEC,UAAU,EAAEiE,UAAU,EAAG;EACrE,MAAMlD,SAAS,GAAGjB,sBAAsB,CAAEC,KAAK,EAAEC,UAAW,CAAC;EAE7D,MAAMkE,uBAAuB,GAAG,IAAAC,aAAI,EAAE;EACrC;EACA;EACEC,IAAI,IAAM,IAAAC,sBAAa,EAAED,IAAI,aAAJA,IAAI,cAAJA,IAAI,GAAI,EAAG,CAAC;EAEvC;EACA;EACEA,IAAI,IAAMA,IAAI,CAACE,WAAW,CAAC,CAAC;EAE9B;EACA;EACEF,IAAI,IAAMA,IAAI,CAACG,IAAI,CAAC,CAAC,CACtB,CAAC;EAEH,MAAMC,oBAAoB,GAAGN,uBAAuB,CAAED,UAAW,CAAC;EAElE,MAAMQ,aAAa,GAAG,IAAAN,aAAI,EAAE,CAC3BD,uBAAuB,EACrBQ,mBAAmB,IACpBA,mBAAmB,CAACjD,QAAQ,CAAE+C,oBAAqB,CAAC,CACpD,CAAC;EAEH,OACCC,aAAa,CAAE1D,SAAS,CAAC4D,KAAM,CAAC,IAChC5D,SAAS,CAAC6D,QAAQ,EAAEC,IAAI,CAAEJ,aAAc,CAAC,IACzCA,aAAa,CAAE1D,SAAS,CAAC+D,QAAS,CAAC,IACjC,OAAO/D,SAAS,CAACgE,WAAW,KAAK,QAAQ,IAC1CN,aAAa,CAAE1D,SAAS,CAACgE,WAAY,CAAG;AAE3C;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,MAAMC,cAAc,GAAGA,CAAEjF,KAAK,EAAEW,SAAS,KAAM;EACrD,OAAO6C,kBAAkB,CAAExD,KAAK,EAAEW,SAAU,CAAC,CAAC2B,MAAM,GAAG,CAAC;AACzD,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAjCAlC,OAAA,CAAA6E,cAAA,GAAAA,cAAA;AAkCO,MAAMC,iCAAiC,GAAGA,CAAElF,KAAK,EAAEW,SAAS,KAAM;EACxE,OAAO6C,kBAAkB,CAAExD,KAAK,EAAEW,SAAU,CAAC,CAACmE,IAAI,CAAIK,cAAc,IAAM;IACzE,OAAOnB,eAAe,CAAEhE,KAAK,EAAEmF,cAAc,EAAE,UAAU,EAAE,IAAK,CAAC;EAClE,CAAE,CAAC;AACJ,CAAC;;AAED;AACA;AACA;AACA;AACA;AAJA/E,OAAA,CAAA8E,iCAAA,GAAAA,iCAAA;AAKO,MAAME,qCAAqC,GAAAhF,OAAA,CAAAgF,qCAAA,GAAG,IAAA/E,eAAc,EAClE,CAAEL,KAAK,EAAEqF,aAAa,KAAM;EAC3B,MAAMrE,SAAS,GAAGd,YAAY,CAAEF,KAAK,EAAEqF,aAAc,CAAC;EACtD,IAAK,CAAErE,SAAS,EAAG;IAClB,OAAO,KAAK;EACb;EAEA,OAAOV,MAAM,CAACgF,OAAO,CAAEtE,SAAS,CAACY,UAAW,CAAC,CAACkD,IAAI,CACjD,CAAE,GAAI;IAAES;EAAmB,CAAC,CAAE,KAAMA,kBAAkB,KAAK,SAC5D,CAAC;AACF,CAAC,EACD,CAAEvF,KAAK,EAAEqF,aAAa,KAAM,CAC3BrF,KAAK,CAACQ,UAAU,CAAE6E,aAAa,CAAE,EAAEzD,UAAU,CAE/C,CAAC"}