{"version":3,"file":"blocks/submit-review/view.js","mappings":"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","sources":["webpack://high-pulp-blocks/./src/blocks/submit-review/components/AddReviewForm.js","webpack://high-pulp-blocks/./src/blocks/submit-review/components/BlockApp.js","webpack://high-pulp-blocks/./node_modules/react-dom/client.js","webpack://high-pulp-blocks/external window \"React\"","webpack://high-pulp-blocks/external window \"ReactDOM\"","webpack://high-pulp-blocks/webpack/bootstrap","webpack://high-pulp-blocks/webpack/runtime/compat get default export","webpack://high-pulp-blocks/webpack/runtime/define property getters","webpack://high-pulp-blocks/webpack/runtime/hasOwnProperty shorthand","webpack://high-pulp-blocks/webpack/runtime/make namespace object","webpack://high-pulp-blocks/./src/blocks/submit-review/view.js"],"sourcesContent":["import React from \"react\";\r\n\r\nexport default class AddReviewForm extends React.Component {\r\n\tstate = {\r\n\t\ttitle: '',\r\n\t\treview: '',\r\n\t\trating: 0,\r\n\t};\r\n\r\n\taddReview(e) {\r\n\t\te.preventDefault();\r\n\r\n\t\tconst newReview = {\r\n\t\t\ttitle: this.state.title,\r\n\t\t\tcontent: this.state.review,\r\n\t\t\tacf: {\r\n\t\t\t\treview_rating: parseInt(this.state.rating) || 0,\r\n\t\t\t},\r\n\r\n\t\t\t// maybe you should validate better before doing this?\r\n\t\t\tstatus: 'publish',\r\n\t\t}\r\n\r\n\t\t// we can't assume any props are provided\r\n\t\t// ?. only calls the method if it exists\r\n\t\tthis.props.addReview?.(newReview);\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<form\r\n\t\t\t\tclassName=\"new-review-form\"\r\n\t\t\t\tonSubmit={e => this.addReview(e)}\r\n\t\t\t>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<label>\r\n\t\t\t\t\t\tTitle:\r\n\t\t\t\t\t\t<input type=\"text\"\r\n\t\t\t\t\t\t\t   value={this.state.title}\r\n\t\t\t\t\t\t\t   onInput={e => this.setState({title: e.target.value})}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</label>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<label>\r\n\t\t\t\t\t\tOverall Rating:\r\n\t\t\t\t\t\t<input type=\"number\"\r\n\t\t\t\t\t\t\t   value={this.state.rating}\r\n\t\t\t\t\t\t\t   onInput={e => this.setState({rating: e.target.value})}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</label>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<label>\r\n\t\t\t\t\t\tReview:\r\n\t\t\t\t\t\t<textarea\r\n\t\t\t\t\t\t\tvalue={this.state.review}\r\n\t\t\t\t\t\t\tonInput={e => this.setState({review: e.target.value})}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</label>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<button type=\"submit\">Add Review</button>\r\n\t\t\t</form>\r\n\t\t);\r\n\t}\r\n\r\n};\r\n","import React from \"react\";\r\nimport AddReviewForm from \"./AddReviewForm\";\r\n\r\nexport default class BlockApp extends React.Component {\r\n\tstate = {\r\n\t\treviews: [],\r\n\t\tloggedIn: null,\r\n\t};\r\n\r\n\r\n\taddReview(newReview){\r\n\t\tconst review = new wp.api.models.Review(newReview)\r\n\t\treview.save().done(data => {\r\n\t\t\tconsole.log('saved!', data);\r\n\t\t}).fail(jqXHR => {\r\n\t\t\tconsole.error('failed!', jqXHR)\r\n\t\t});\r\n\t}\r\n\r\n\r\n\tgetReview(){\r\n\t\tconst reviewCollection = new wp.api.collection.Review();\r\n\t\treviewCollection.fetch().done(data => {\r\n\t\t\tconsole.log('reviews!', data);\r\n\t\t\tthis.setState({reviews: reviewCollection.models})\r\n\t\t}).fail(jqXHR => {\r\n\t\t\tconsole.error('failed!', jqXHR)\r\n\t\t});\r\n\t}\r\n\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.getReview();\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<h3>Latest Reviews</h3>\r\n\t\t\t\t<ReviewList reviews={this.state.reviews} />\r\n\t\t\t\t<hr />\r\n\t\t\t\t<h3>Submit a Review</h3>\r\n\t\t\t\t<AddReviewForm addReview={reviewObj => this.addReview(reviewObj)} />\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","module.exports = window[\"React\"];","module.exports = window[\"ReactDOM\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { createRoot } from \"react-dom/client\";\r\nimport BlockApp from \"./components/BlockApp\";\r\n\r\nconst blocks = document.querySelectorAll('.wp-block-tk-submit-review');\r\nblocks.forEach(block => {\r\n\tcreateRoot(block).render(<BlockApp />);\r\n})\r\n"],"names":["React","AddReviewForm","Component","state","title","review","rating","addReview","e","preventDefault","newReview","content","acf","review_rating","parseInt","status","props","render","createElement","className","onSubmit","type","value","onInput","setState","target","BlockApp","reviews","loggedIn","wp","api","models","Review","save","done","data","console","log","fail","jqXHR","error","getReview","reviewCollection","collection","fetch","componentDidMount","ReviewList","reviewObj","createRoot","blocks","document","querySelectorAll","forEach","block"],"sourceRoot":""}